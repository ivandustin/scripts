#!/usr/bin/env python3
from sys import argv, stdin


def main():
    symbols = argv[1] if len(argv) > 1 else ".?!;:(),"
    for line in stdin:
        items = chop(symbols, line, 0)
        items = map(strip, items)
        items = filter(identity, items)
        items = set(items)
        items = sorted(items)
        print("\n".join(items))


def chop(symbols, string, index):
    yield string
    if index < len(symbols):
        symbol = symbols[index]
        items = string.replace(symbol, symbol + "\n").split("\n")
        for item in items:
            yield from chop(symbols, item, index + 1)


def strip(string):
    return string.strip()


def identity(x):
    return x


if __name__ == "__main__":
    main()
